CREATE TABLE 의사(
    의사ID VARCHAR2(50) NOT NULL,
    성명 VARCHAR2(50) NOT NULL,
    성별 VARCHAR2(2) NOT NULL,
    전화번호 VARCHAR2(15) NOT NULL,
    이메일 VARCHAR2(50) NOT NULL,
    직급 VARCHAR2(15)NOT NULL,
    담당과목 VARCHAR2(15) NOT NULL,
    CONSTRAINT 의사ID_PK PRIMARY KEY(의사ID)
);

CREATE TABLE 간호사(
    간호사ID VARCHAR2(50) NOT NULL,
    성명 VARCHAR2(50) NOT NULL,
    성별 VARCHAR2(2) NOT NULL,
    전화번호 VARCHAR2(15) NOT NULL,
    이메일 VARCHAR2(50) NOT NULL,
    직급 VARCHAR2(15)NOT NULL,
    담당과목 VARCHAR2(15) NOT NULL,
    CONSTRAINT 간호사ID_PK PRIMARY KEY(간호사ID)
);

CREATE TABLE 환자(
    환자ID VARCHAR2(50) NOT NULL,
    성명 VARCHAR2(50) NOT NULL,
    성별 VARCHAR2(2) NOT NULL,
    주민번호 VARCHAR2(14) NOT NULL,
    담당의사 VARCHAR2(50) NOT NULL,
    담당간호사 VARCHAR2(50) NOT NULL,
    전화번호 VARCHAR2(15) NOT NULL,
    주소 VARCHAR2(100),
    이메일 VARCHAR2(50) NOT NULL,
    CONSTRAINT 환자ID_PK PRIMARY KEY(환자ID),
    CONSTRAINT 담당의사_FK FOREIGN KEY(담당의사) REFERENCES 의사(의사ID),
    CONSTRAINT 담당간호사_FK FOREIGN KEY(담당간호사) REFERENCES 간호사(간호사ID)
);

CREATE TABLE 진료(
    진료ID VARCHAR2(50) NOT NULL,
    환자 VARCHAR2(50) NOT NULL,
    의사 VARCHAR2(50) NOT NULL,
    진료내용 VARCHAR2(1000),
    진료날짜 DATE NOT NULL,
    CONSTRAINT 진료ID_PK PRIMARY KEY(진료ID, 환자, 의사),
    CONSTRAINT 환자_FK FOREIGN KEY(환자) REFERENCES 환자(환자ID),
    CONSTRAINT 의사_FK FOREIGN KEY(의사) REFERENCES 의사(의사ID)
);

CREATE TABLE 차트(
    차트ID VARCHAR2(50) NOT NULL,
    진료ID VARCHAR2(50) NOT NULL,
    환자 VARCHAR2(50) NOT NULL,
    의사 VARCHAR2(50) NOT NULL,
    간호사 VARCHAR2(50) NOT NULL,
    진료내용 VARCHAR2(1000),
    CONSTRAINT 차트ID_PK PRIMARY KEY(차트ID, 진료ID, 환자, 의사),
    CONSTRAINT 간호사_FK FOREIGN KEY(간호사) REFERENCES 간호사(간호사ID),
    CONSTRAINT 진료_FK FOREIGN KEY(진료ID, 환자, 의사) REFERENCES 진료(진료ID, 환자, 의사)
);


INSERT INTO 의사 VALUES('D000123', '정준하', 'M','010-1234-5789','JUNG@GMIAL.COM','과장','내과');
INSERT INTO 의사 VALUES('D000124', '박명수', 'M','010-7898-1234','PARK@GMIAL.COM','전문의','내과');
INSERT INTO 의사 VALUES('D000125', '하하', 'M','010-1456-7895','HA@GMIAL.COM','전공의','외과');

INSERT INTO 간호사 VALUES('N000121', '정형돈', 'M','010-7412-3399','JUNG@GMIAL.COM','간호사','내과');
INSERT INTO 간호사 VALUES('N000122', '길', 'M','010-9874-7452','ROAD@GMIAL.COM','간호사','내과');
INSERT INTO 간호사 VALUES('N000123', '전진', 'M','010-1455-3964','JIN@GMIAL.COM','수간호사','외과');

INSERT INTO 환자 VALUES('P000121', '유재석', 'M','840604-1145755','D000123','N000121','010-1111-3333','','YOO@GMIAL.COM');
INSERT INTO 환자 VALUES('P000122', '송지효', 'F','880704-2245521','D000124','N000122','010-5655-4795','','SONG@GMIAL.COM');
INSERT INTO 환자 VALUES('P000123', '전수민', 'F','930412-1145121','D000125','N000123','010-647-3456','','JEON@GMIAL.COM');

INSERT INTO 진료 VALUES('T000001', 'P000121', 'D000123','감기몸살','20210705');
INSERT INTO 진료 VALUES('T000002', 'P000122', 'D000124','장염','20210703');
INSERT INTO 진료 VALUES('T000003', 'P000123', 'D000125','타박상','20210703');

INSERT INTO 차트 VALUES('C000001', 'T000001', 'P000121','D000123','N000121','3일치 약 복용');
INSERT INTO 차트 VALUES('C000002', 'T000002', 'P000122','D000124','N000122','3일치 약 복용');
INSERT INTO 차트 VALUES('C000003', 'T000003', 'P000123','D000125','N000123','3일치 약 복용');
